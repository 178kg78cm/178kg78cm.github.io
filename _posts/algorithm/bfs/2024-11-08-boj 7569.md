---
layout: post
title: "너비 우선 탐색:백준 7569"
date:   2024-11-08 29:12:54 +0900
categories: Algorithm
tags: [BFS]
---
## 문제 개요
- **문제**: 가로, 세로, 높이가 주어진 3차원 상자에 토마토들이 위치해 있으며, 익은 토마토가 하루가 지나면 상하좌우 및 위아래의 인접한 토마토를 익게 만듭니다. 처음에 익은 토마토가 주어질 때, 모든 토마토가 익는 데 걸리는 최소 일수를 구하는 문제입니다.
- **입력**:
  - 첫째 줄에 상자의 가로, 세로, 높이가 주어집니다.
  - 이후 상자 속 토마토의 상태를 나타내는 값이 높이별로 입력됩니다.
- **출력**: 모든 토마토가 익을 수 있는 경우 최소 일수를 출력하고, 모든 토마토가 익을 수 없으면 `-1`을 출력합니다.

## 해결 방법 
BFS를 사용하는 이유

### 1. 최단 시간 계산을 요구함
   - 문제에서는 "모든 토마토가 익는 데 걸리는 최소 일수"를 구해야 하며, BFS는 그래프 탐색에서 특정 시작 지점으로부터 모든 노드에 도달하는 **최단 거리를 계산**하는 데 최적화된 알고리즘입니다.
   - 각 날짜마다 토마토가 동시에 익어가며, 익은 토마토가 주변에 확산되는 형태로 문제가 전개됩니다. 이처럼 **동시에 확산**하는 과정에서 BFS는 유리합니다.

### 2. 동시에 여러 위치에서 퍼져나가는 문제에 적합함
   - 문제에서 익은 토마토는 상하좌우와 위아래 여섯 방향으로 동시에 영향을 미칩니다.
   - 익은 토마토 여러 개가 초기 상태에서 주어지므로, 여러 시작 지점에서 동시에 퍼져나가는 BFS를 사용하면 모든 토마토가 익는 과정을 **동시에 확산**할 수 있습니다.
   - BFS를 사용하면 각 날짜마다 현재 익은 토마토에서만 주변으로 확산할 수 있게 되며, 모든 토마토가 익는 과정을 시뮬레이션하기 좋습니다.

### 3. 3차원 공간의 탐색을 효과적으로 관리
   - 문제는 가로, 세로, 높이 3차원 구조에서 이루어지므로, 모든 토마토가 익을 때까지의 과정을 관리하기 위해 탐색 방향을 지정해줘야 합니다.
   - BFS는 큐를 사용해 다음에 탐색할 좌표를 순서대로 관리하며, 3차원 탐색을 구현하기에 적합한 방법입니다.
   - 탐색 방향을 상하좌우와 위아래로 지정하여 BFS 탐색을 하면, 특정 위치의 토마토가 익으면 주변에 영향을 주고, 다시 그 주변의 토마토가 영향을 받는 형태로 **정확하고 효율적인 탐색**이 가능합니다.

## C++의 make_tuple 문법
- `make_tuple`은 C++에서 여러 개의 값을 하나의 튜플(tuple)로 묶어주는 함수입니다. 서로 다른 타입의 값을 간편하게 하나의 `std::tuple` 객체로 생성할 수 있습니다.
- 주로 함수에서 여러 값을 반환하거나, 여러 데이터를 하나로 묶어서 관리해야 할 때 유용하게 사용됩니다.
- `#include <tuple>` 헤더를 통해 사용 가능하며, `std::tie`를 통해 튜플의 값을 각각의 변수에 쉽게 저장할 수 있습니다.

### 사용 예시
```cpp
#include <iostream>
#include <tuple>
using namespace std;

int main() {
    auto my_tuple = make_tuple(10, 'A', 3.14);  // 여러 값을 하나의 튜플로 묶음
    int x;
    char y;
    double z;
    tie(x, y, z) = my_tuple;  // 튜플의 값을 변수에 저장
    cout << "x: " << x << ", y: " << y << ", z: " << z << endl;
    return 0;
}
```
- 위 예시에서 `make_tuple(10, 'A', 3.14)`로 생성된 튜플은 `tie`를 사용하여 각각 `x`, `y`, `z`에 저장되었습니다.

## 요약
이 문제에서 BFS를 선택한 이유는 **최단 거리 기반 확산 문제**를 풀기 위한 가장 적합한 방식이기 때문입니다. BFS를 통해 동시에 확산하고 최단 시간을 계산하는 작업이 가능하며, 다차원 공간 탐색을 효율적으로 수행할 수 있어 모든 토마토가 익는 최소 일수를 정확히 구할 수 있습니다.
